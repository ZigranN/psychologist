/***** DESIGN TOKENS *****/
.about {
    /* Цвета */
    --color-bg-page: #f9f9f9;
    --color-card: #fff;
    --color-text: #222;
    --color-text-muted: #444;
    --color-link: #4577a0;
    --color-link-hover: #004080;
    --color-accent: #4c90af;
    --color-shadow: 0 4px 10px rgba(0,0,0,.08);
    --color-shadow-lg: 0 8px 20px rgba(0,0,0,.2);
    --color-backdrop: color-mix(in srgb, #000 60%, transparent);

    /* Типографика */
    --ff-sans: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
    --fs-base: clamp(15px, 0.28vw + 14px, 16.5px);
    --fs-sm: clamp(13.5px, 0.22vw + 12.5px, 15px);
    --fs-lg: clamp(17px, 0.36vw + 15px, 19px);
    --fs-h2: clamp(20px, 0.9vw + 18px, 28px);
    --fs-h3: clamp(17px, 0.6vw + 16px, 22px);
    --lh: 1.65;

    /* Отступы/радиусы */
    --radius: 12px;
    --space-1: 6px;
    --space-2: 10px;
    --space-3: 14px;
    --space-4: 16px;
    --space-5: 20px;
    --space-6: 24px;
    --space-7: 28px;

    /* Контейнер */
    --container-max: 1200px;

    /* Анимации */
    --dur-fast: .2s;
    --dur: .25s;
}

/***** БАЗА *****/
.about {
    width: 100%;
    max-width: var(--container-max);
    margin: 0 auto;
    padding: var(--space-5) var(--space-2);
    background: var(--color-bg-page);
    animation: fadeIn 0.6s ease-in-out both;
    font-family: var(--ff-sans);
    font-size: var(--fs-base);
    line-height: var(--lh);
    color: var(--color-text);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* Нормализация вертикального ритма для заголовков/параграфов внутри секции */
.about :where(h1,h2,h3,h4,h5,h6,p,ul,ol,figure){ margin: 0 0 var(--space-4); }

/***** СЕТКА (mobile-first) *****/
.container {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--space-5);
    align-items: stretch;
    margin: 0 auto;
    padding: var(--space-2);
}

/***** КАРТОЧКИ *****/
.overlay,
.methods {
    background: linear-gradient(180deg, color-mix(in srgb, var(--brand-50, #eef7fb), #ffffff 35%), #ffffff);
    border-radius: var(--radius);
    box-shadow: var(--color-shadow);
}

.overlay {
    padding: var(--space-5);
    text-align: center;
    animation: fadeIn 0.8s ease-in-out both;
}

/***** ТИПОГРАФИКА *****/
.h2 {
    font-size: var(--fs-h2);
    line-height: 1.2;
    color: var(--color-text);
    margin-bottom: var(--space-3);
}

.text { text-align: center; }

.text p {
    color: var(--color-text-muted);
    margin-bottom: var(--space-4);
}

.link {
    display: inline-block;
    margin-top: var(--space-2);
    color: var(--color-link);
    text-decoration: underline;
    font-weight: 600;
    transition: color var(--dur) ease-in-out, outline-color var(--dur) ease-in-out;
    outline: 2px solid transparent;
    outline-offset: 2px;
}
.link:hover { color: var(--color-link-hover); }
.link:focus-visible { outline-color: var(--color-accent); }

/***** КАРТИНКА *****/
.image {
    width: 100%;
    margin: 0 auto;
    aspect-ratio: 4 / 3;
    border-radius: var(--radius);
    overflow: hidden;
    display: grid;
    place-items: center;
    background: #fafafa;
    box-shadow: var(--color-shadow);
}
.image picture, .image img { width: 100%; height: 100%; display: block; }
.image img {
    object-fit: contain;     /* не режем портрет */
    object-position: center;
    animation: fadeInImage .8s ease-in-out both;
    transition: transform var(--dur) ease, box-shadow var(--dur) ease;
}

/***** МЕТОДЫ *****/
.methods {
    padding: var(--space-5) var(--space-4);
}
.methods h3 {
    font-size: var(--fs-h3);
    color: var(--color-text);
    margin-bottom: var(--space-3);
}
.methods ul {
    list-style: disc;
    padding-left: var(--space-6);
}
.methods ul li {
    margin-bottom: var(--space-3);
    font-size: var(--fs-sm);
    color: var(--color-text-muted);
}

/***** ТРИГГЕР СЕКЦИИ *****/
.therapy { margin: var(--space-2) var(--space-2) 0; }

.therapyTrigger {
    cursor: pointer;
    display: inline-block;
    font: inherit;
    background: none;
    border: none;
    padding: var(--space-1) 0;
    font-size: var(--fs-lg);
    color: var(--color-link);
    text-decoration: underline;
    font-weight: 600;
    transition: color var(--dur) ease;
}
.therapyTrigger:hover { color: var(--color-link-hover); }
.therapyTrigger:focus-visible {
    outline: 2px solid var(--color-accent);
    outline-offset: 2px;
    border-radius: 6px;
}

/***** МОДАЛКА *****/
.modal {
    position: fixed;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--color-backdrop);
    z-index: 1000;
    padding: var(--space-2);
    visibility: hidden;
    opacity: 0;
    transition: opacity var(--dur) ease, visibility var(--dur) ease;
}
.show { visibility: visible; opacity: 1; }

.modalContent {
    position: relative;
    width: min(560px, 92vw);
    background: var(--color-card);
    padding: clamp(16px, 2vw, 24px);
    border-radius: var(--radius);
    box-shadow: var(--color-shadow-lg);
    animation: fadeInModal .4s ease both;
    text-align: left;
    font-size: var(--fs-base);
}
.modalContent h2 {
    font-size: var(--fs-h3);
    margin-bottom: var(--space-3);
}
.modalContent p {
    font-size: var(--fs-base);
    line-height: var(--lh);
    color: var(--color-text-muted);
}
.modalActions {
    margin-top: var(--space-4);
    display: flex;
    justify-content: flex-end;
    gap: var(--space-3);
}
.cta {
    display: inline-block;
    background: var(--accent-grad, linear-gradient(135deg, #4c90af, #3c7c97));
    color: #fff;
    text-decoration: none;
    border-radius: 12px;
    padding: 10px 16px;
    transition: box-shadow var(--dur-fast) ease, transform var(--dur-fast) ease, background-color var(--dur-fast) ease;
    box-shadow: 0 0 0 rgba(0,0,0,0);
}
@media (hover: hover) {
  .cta:hover { transform: translateY(-1px); box-shadow: 0 8px 24px rgba(76,144,175,.35); }
}
.cta:focus-visible { outline: var(--focus-ring, 2px solid #0b5d7a); outline-offset: 2px; }

.closeButton {
    position: absolute;
    top: 8px; right: 8px;
    background: none;
    border: none;
    font-size: 1.6rem;
    line-height: 1;
    color: #555;
    cursor: pointer;
    padding: 4px;
    border-radius: 8px;
    transition: background-color var(--dur) ease, color var(--dur) ease;
}
.closeButton:hover { background: #f0f0f0; color: #222; }
.closeButton:focus-visible { outline: 2px solid var(--color-accent); outline-offset: 2px; }

/***** REDUCED MOTION *****/
@media (prefers-reduced-motion: reduce) {
    * { animation: none !important; transition: none !important; }
}

/***** АНИМАЦИИ *****/
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(8px); }
    to   { opacity: 1; transform: translateY(0); }
}
@keyframes fadeInImage {
    from { opacity: 0; transform: scale(.985); }
    to   { opacity: 1; transform: scale(1); }
}
@keyframes fadeInModal {
    from { opacity: 0; transform: scale(.96); }
    to   { opacity: 1; transform: scale(1); }
}

/***** БРЕЙКПОИНТЫ *****/
@media (min-width: 640px) {
    .container { grid-template-columns: 1fr 1fr; }
}
@media (min-width: 992px) {
    .container { grid-template-columns: 1fr 1fr 1fr; }
}

/***** ТИПОГРАФИКА НА УЗКИХ *****/
@media (max-width: 768px) {
    .methods ul li, .text p { font-size: var(--fs-sm); }
}
@media (max-width: 480px) {
    .about { padding: var(--space-4) var(--space-2); }
    .image { aspect-ratio: 4 / 3; }
}
